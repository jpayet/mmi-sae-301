{% extends 'base.html.twig' %}

{% block title %}Billeterie{% endblock %}

{% block h1 %}BILLETERIE{% endblock %}

{% block entete %}
    <form method="" action="">
        <div class="searchbar">
            <input type="search" placeholder="Rechercher" id="searchbar" />
            <button id="loupe" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>
    </form>
{% endblock %}

{% block affichagPrincipale %}

    <section class="cards">
        {% set val= 0 %}
        {% for el in manifs %}
        {% set val= val + 1 %}

        <div class="manifs-card">
            <div class="affiche"><img src='{{ asset("uploads/manifs/#{el.manifAffiche}") }}' alt="affiche"></div>
            <div class="manifs-data">
                <div class="card-infos">
                    <p>{{ el.manifTitre }}</p>
                    <p>LA DATE</p>
                    <p>{{ el.manifHeure }}</p>
                </div>
                <div class="card-infos2">
                    <p>{{ el.getLieuId.getLieuNom }}</p>
                    <p>{{ el.manifPrix }} €</p>
                </div>
                <div class="card-infos-bt">
                    <a href="#">CONSULTER L'EVENEMENT</a>
                </div>
            </div>
        </div>


            <div class="popup_container" id="{{val}}">
                <div class="popup">
                    <button class="pop-cross">hide popup</button>
                    <div>
                        <span id="article">{{el.manifTitre}}</span> - <span id="prix">{{el.manifPrix}}</span>€ <br>
                        <input type="number" value="1" min="1" max="99" id="qte">
                        <input type="hidden" id="id" value="{{el.getId}}">
                        <button id="ajout">ajouter au panier</button>
                    </div>
                </div>
            </div>
        {% endfor %}
    </section>
{% endblock %}
